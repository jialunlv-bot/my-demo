<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHS AI Feature Configuration Portal</title>
    <style>
        :root { --shopee-orange: #EE4D2D; --bg: #F6F6F6; --border: #E8E8E8; --text: #333; --gray-text: #888; --v1-blue: #4A90E2; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 50px;}
        
        nav { background: white; padding: 15px 40px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .logo { color: var(--shopee-orange); font-size: 20px; font-weight: bold; }
        
        .container { max-width: 1000px; margin: 30px auto; padding: 0 20px; }
        .card { background: white; border-radius: 8px; padding: 24px; box-shadow: 0 2px 12px rgba(0,0,0,0.05); margin-bottom: 20px; }
        
        /* Page 1 List */
        .feature-item { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid var(--border); }
        .btn-text { color: var(--shopee-orange); cursor: pointer; font-weight: 600; text-decoration: none; border: 1px solid var(--shopee-orange); padding: 5px 15px; border-radius: 4px; font-size: 13px;}

        /* Section Styling */
        .section-header { font-weight: bold; font-size: 14px; margin: 25px 0 15px 0; color: #555; display: flex; align-items: center; gap: 8px;}
        .section-header::before { content: ""; width: 4px; height: 14px; background: var(--shopee-orange); display: inline-block;}
        
        /* Traffic Control */
        .traffic-control { background: #fafafa; padding: 20px; border-radius: 8px; margin-bottom: 25px;}
        .slider-wrapper { display: flex; align-items: center; gap: 20px; margin-top: 10px; }
        input[type=range] { flex-grow: 1; accent-color: var(--shopee-orange); cursor: pointer; }

        /* Line Charts */
        .dual-charts { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .chart-box { border: 1px solid var(--border); padding: 15px; border-radius: 6px; background: white; }
        .svg-chart { width: 100%; height: 100px; margin-top: 10px; }
        .chart-axis { display: flex; justify-content: space-between; color: #BBB; font-size: 10px; margin-top: 5px; }

        /* Accordion Editor */
        .collapsible { background-color: #f9f9f9; color: #444; cursor: pointer; padding: 15px; width: 100%; border: 1px solid var(--border); text-align: left; outline: none; font-size: 14px; border-radius: 4px; font-weight: bold; display: flex; justify-content: space-between; margin-top: 10px;}
        .collapsible:after { content: '\002B'; color: #777; font-weight: bold; }
        .active:after { content: "\2212"; }
        .content { padding: 0 18px; max-height: 0; overflow: hidden; transition: max-height 0.2s ease-out; background-color: white; border: 0px solid var(--border); }

        .prompt-full-structure { padding: 20px 0; line-height: 1.6; font-size: 13px; color: #666; }
        .fixed-text { color: #888; }
        .editable-zone { border: 1px dashed var(--shopee-orange); padding: 12px; margin: 10px 0; background: #fffaf9; }
        textarea { width: 100%; border: none; outline: none; font-family: 'Courier New', monospace; font-size: 13px; color: var(--shopee-orange); background: transparent; resize: vertical; min-height: 120px; }

        /* Metrics */
        .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 10px; }
        .metric-card { background: #fdfdfd; border: 1px solid #f0f0f0; padding: 12px; border-radius: 4px; text-align: center; }
        .m-title { font-size: 10px; color: #999; text-transform: uppercase; font-weight: bold;}
        .m-value { font-size: 16px; font-weight: bold; color: #444; }

        .btn-primary { background: var(--shopee-orange); color: white; border: none; padding: 12px 25px; border-radius: 4px; cursor: pointer; font-weight: bold; margin-top: 20px;}
        .hidden { display: none; }
    </style>
</head>
<body>

<nav>
    <div class="logo">IHS AI Feature Configuration Portal</div>
</nav>

<div class="container">
    
    <div id="page-1">
        <div class="card">
            <h2>Feature Configuration List</h2>
            <div class="feature-item">
                <div><strong>Case Summary</strong><br><small style="color:#999">Summarizes user chats for agent handovers</small></div>
                <div class="btn-text" onclick="showPage(2)">View Detail</div>
            </div>
            <div class="feature-item">
                <div><strong>Internal Note</strong><br><small style="color:#999">Drafts context-aware internal escalation notes</small></div>
                <div class="btn-text">View Detail</div>
            </div>
            <div class="feature-item">
                <div><strong>AI Polish</strong><br><small style="color:#999">Ensures tone consistency in customer replies</small></div>
                <div class="btn-text">View Detail</div>
            </div>
        </div>
    </div>

    <div id="page-2" class="hidden">
        <div style="margin-bottom: 20px;"><span style="color:var(--shopee-orange); cursor:pointer;" onclick="showPage(1)">‚Üê Back to List</span></div>
        
        <div class="card">
            <h2>Case Summary Configuration</h2>
            
            <div class="traffic-control">
                <div class="section-header" style="margin-top: 0;">A/B Test Traffic Distribution Control</div>
                <div class="slider-wrapper">
                    <span style="color: var(--v1-blue); font-weight: bold;">Prompt V1: <span id="v1-label">60</span>%</span>
                    <input type="range" min="0" max="100" value="60" oninput="updateTraffic(this.value)">
                    <span style="color: var(--shopee-orange); font-weight: bold;">Prompt V2: <span id="v2-label">40</span>%</span>
                </div>
            </div>

            <div class="dual-charts">
                <div class="chart-box">
                    <div class="section-header" style="margin-top:0">V1 Adoption Rate Trend (Baseline)</div>
                    <svg class="svg-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
                        <path d="M0,30 Q25,28 50,32 T100,30" fill="none" stroke="var(--v1-blue)" stroke-width="2" />
                        <rect width="100" height="40" fill="transparent" />
                    </svg>
                    <div class="chart-axis"><span>Mon</span><span>Wed</span><span>Today</span></div>
                </div>
                <div class="chart-box">
                    <div class="section-header" style="margin-top:0">V2 Adoption Rate Trend (Optimized)</div>
                    <svg class="svg-chart" viewBox="0 0 100 40" preserveAspectRatio="none">
                        <path d="M0,35 Q25,30 50,20 T100,5" fill="none" stroke="var(--shopee-orange)" stroke-width="2" />
                        <rect width="100" height="40" fill="transparent" />
                    </svg>
                    <div class="chart-axis"><span>Mon</span><span>Wed</span><span>Today</span></div>
                </div>
            </div>

            <div class="section-header">Full Prompt Structure Configuration</div>
            
            <button class="collapsible">Full Prompt Structure - Version 1 (V1)</button>
            <div class="content">
                <div class="prompt-full-structure">
                    <div class="fixed-text">
                        user-customer service conversations@var={23399.case_log}<br>
                        Summarize user-customer service conversations by following these steps:<br>
                        1. Produce an overall outline summarizing the user's problem in less than 30 words. Begin with "Overall Outline:"<br>
                        2. Generate a global set of key items, encompassing all the conversations. Begin with "Key Items:", use bullet format, and include:
                    </div>
                    <div class="editable-zone">
                        <textarea>
- "User Type," denoting if the user is a "Buyer" or a "Seller"
- "Enquiry Type," classifying user's concern from the given options
- "Order SN," the order ID mentioned in the conversations
- "User Sentiment," specifying the user's emotion from the provided options
- "Action Taken by Agent," briefly describing past actions
- "Action Needed By Agent," summarizing future actions.</textarea>
                    </div>
                    <div class="fixed-text">
                        For "User Type," "Enquiry Type," "User Sentiment," select only one option from the defined list.<br>
                        3. You should have a strong understanding of market language...<br>
                        4. Create a concise summary less than 30 words for each conversation...<br>
                        [end of rules]
                    </div>
                </div>
            </div>

            <button class="collapsible">Full Prompt Structure - Version 2 (V2)</button>
            <div class="content">
                <div class="prompt-full-structure">
                    <div class="fixed-text">
                        user-customer service conversations@var={23399.case_log}<br>
                        Summarize user-customer service conversations by following these steps:<br>
                        1. Produce an overall outline summarizing the user's problem in less than 30 words. Begin with "Overall Outline:"<br>
                        2. Generate a global set of key items, encompassing all the conversations. Begin with "Key Items:", use bullet format, and include:
                    </div>
                    <div class="editable-zone">
                        <textarea>
- "User Type": Target localized Buyer/Seller status (MY Market)
- "Enquiry Type": Market Specific Classification (Logistics/Payment/Voucher)
- "Order SN": Regional Order ID Format
- "Local Sentiment": Regional Tone Analysis (Sarcasm/Urgency Detection)
- "Action Taken": Agent interaction steps
- "Resolution": Specific localized fulfillment steps required.</textarea>
                    </div>
                    <div class="fixed-text">
                        For "User Type," "Enquiry Type," "User Sentiment," select only one option from the defined list.<br>
                        3. You should have a strong understanding of market language...<br>
                        4. Create a concise summary less than 30 words for each conversation...<br>
                        [end of rules]
                    </div>
                </div>
            </div>

            <div class="section-header">Standardized Performance Monitoring Module</div>
            <div class="metrics-grid">
                <div class="metric-card"><div class="m-title">Daily Adoption</div><div class="m-value" style="color:var(--shopee-orange)">18.2%</div></div>
                <div class="metric-card"><div class="m-title">Avg Latency</div><div class="m-value">840ms</div></div>
                <div class="metric-card"><div class="m-title">Token Cost</div><div class="m-value">$0.004</div></div>
                <div class="metric-card"><div class="m-title">Success Rate</div><div class="m-value">99.1%</div></div>
            </div>

            <div style="text-align: right; margin-top: 20px;">
                <button class="btn-primary" onclick="alert('Local Configuration Saved Successfully')">Save and Apply Changes</button>
            </div>
        </div>
    </div>
</div>

<script>
    function showPage(num) {
        document.getElementById('page-1').classList.add('hidden');
        document.getElementById('page-2').classList.add('hidden');
        document.getElementById('page-' + num).classList.remove('hidden');
        window.scrollTo(0,0);
    }

    function updateTraffic(val) {
        document.getElementById('v1-label').innerText = 100 - val;
        document.getElementById('v2-label').innerText = val;
    }

    var coll = document.getElementsByClassName("collapsible");
    for (var i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            } 
        });
    }
</script>

</body>
</html>
